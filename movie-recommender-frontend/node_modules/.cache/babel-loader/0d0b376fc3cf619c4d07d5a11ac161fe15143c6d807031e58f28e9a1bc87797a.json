{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Priyam\\\\Desktop\\\\A\\\\movie-swipe-framer\\\\src\\\\components\\\\MovieSwipe.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MovieSwipe() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [swipeHistory, setSwipeHistory] = useState([]);\n  const [swipeMessage, setSwipeMessage] = useState(null);\n  const userId = 1;\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/recommend/1\").then(res => res.json()).then(data => {\n      if (!data || !data.recommendations) {\n        console.error(\"No recommendations returned from backend\");\n        return;\n      }\n      const formatted = data.recommendations.map((movie, index) => ({\n        id: index + 1,\n        title: movie.title,\n        genre: movie.genre || \"Unknown\",\n        poster: movie.poster,\n        year: movie.year || \"N/A\"\n      }));\n      setMovies(formatted);\n    }).catch(err => console.error(\"Error fetching movies:\", err));\n  }, []);\n  const handleDragEnd = (event, info, movieId) => {\n    let action = null;\n    if (info.offset.x > 150) {\n      setSwipeMessage(\"Liked ❤️\");\n      action = \"like\";\n    } else if (info.offset.x < -150) {\n      setSwipeMessage(\"Disliked ❌\");\n      action = \"dislike\";\n    } else {\n      setSwipeMessage(null);\n      return;\n    }\n    const movie = movies.find(m => m.id === movieId);\n    fetch(\"http://127.0.0.1:8000/swipe/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id: userId,\n        movie_title: movie.title,\n        action\n      })\n    });\n    setTimeout(() => {\n      setSwipeMessage(null);\n      setMovies(prev => prev.filter(m => m.id !== movieId));\n    }, 800);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-start min-h-screen overflow-y-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-4\",\n      children: \"Movie Recommender\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full max-w-md h-[450px]\",\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(motion.div, {\n        drag: \"x\",\n        dragConstraints: {\n          left: 0,\n          right: 0\n        },\n        onDragEnd: (e, info) => handleDragEnd(e, info, movie.id),\n        whileTap: {\n          scale: 1.02\n        },\n        whileDrag: {\n          rotate: 2\n        },\n        className: \"absolute w-full h-[450px] bg-white rounded-3xl shadow-2xl overflow-hidden cursor-grab touch-none\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie.poster,\n          alt: movie.title,\n          className: \"w-full h-full object-cover pointer-events-none select-none\",\n          draggable: \"false\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: [movie.genre, \" | \", movie.year]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, movie.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), swipeMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 px-6 py-2 bg-white rounded-full shadow-md text-xl font-bold text-center text-blue-600 animate-bounce border border-blue-300\",\n      children: swipeMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), swipeHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 w-full max-w-md bg-white rounded-xl shadow-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-2 text-center text-blue-700\",\n        children: \"Swipe History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1 text-sm text-gray-700 max-h-48 overflow-y-auto\",\n        children: swipeHistory.map((entry, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex justify-between border-b pb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: entry.movie_title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: entry.action === \"like\" ? \"text-green-500\" : \"text-red-500\",\n            children: entry.action\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieSwipe, \"/4JPt+i+ZiKdZYH/pEYHmE2XgAA=\");\n_c = MovieSwipe;\nvar _c;\n$RefreshReg$(_c, \"MovieSwipe\");","map":{"version":3,"names":["React","useState","useEffect","motion","jsxDEV","_jsxDEV","MovieSwipe","_s","movies","setMovies","swipeHistory","setSwipeHistory","swipeMessage","setSwipeMessage","userId","fetch","then","res","json","data","recommendations","console","error","formatted","map","movie","index","id","title","genre","poster","year","catch","err","handleDragEnd","event","info","movieId","action","offset","x","find","m","method","headers","body","JSON","stringify","user_id","movie_title","setTimeout","prev","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","div","drag","dragConstraints","left","right","onDragEnd","e","whileTap","scale","whileDrag","rotate","src","alt","draggable","length","entry","_c","$RefreshReg$"],"sources":["C:/Users/Priyam/Desktop/A/movie-swipe-framer/src/components/MovieSwipe.js"],"sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\n\nexport default function MovieSwipe() {\n  const [movies, setMovies] = useState([]);\n  const [swipeHistory, setSwipeHistory] = useState([]);\n  const [swipeMessage, setSwipeMessage] = useState(null);\n  const userId = 1;\n\n useEffect(() => {\n  fetch(\"http://127.0.0.1:8000/recommend/1\")\n    .then((res) => res.json())\n    .then((data) => {\n      if (!data || !data.recommendations) {\n        console.error(\"No recommendations returned from backend\");\n        return;\n      }\n\n      const formatted = data.recommendations.map((movie, index) => ({\n        id: index + 1,\n        title: movie.title,\n        genre: movie.genre || \"Unknown\",\n        poster: movie.poster,\n        year: movie.year || \"N/A\"\n      }));\n\n      setMovies(formatted);\n    })\n    .catch((err) => console.error(\"Error fetching movies:\", err));\n}, []);\n\n\n  const handleDragEnd = (event, info, movieId) => {\n    let action = null;\n\n    if (info.offset.x > 150) {\n      setSwipeMessage(\"Liked ❤️\");\n      action = \"like\";\n    } else if (info.offset.x < -150) {\n      setSwipeMessage(\"Disliked ❌\");\n      action = \"dislike\";\n    } else {\n      setSwipeMessage(null);\n      return;\n    }\n\n    const movie = movies.find((m) => m.id === movieId);\n    fetch(\"http://127.0.0.1:8000/swipe/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_id: userId,\n        movie_title: movie.title,\n        action,\n      }),\n    });\n\n    setTimeout(() => {\n      setSwipeMessage(null);\n      setMovies((prev) => prev.filter((m) => m.id !== movieId));\n    }, 800);\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-start min-h-screen overflow-y-auto p-4\">\n      <h1 className=\"text-3xl font-bold mb-4\">Movie Recommender</h1>\n      <div className=\"relative w-full max-w-md h-[450px]\">\n        {movies.map((movie) => (\n          <motion.div\n            key={movie.id}\n            drag=\"x\"\n            dragConstraints={{ left: 0, right: 0 }}\n            onDragEnd={(e, info) => handleDragEnd(e, info, movie.id)}\n            whileTap={{ scale: 1.02 }}\n            whileDrag={{ rotate: 2 }}\n            className=\"absolute w-full h-[450px] bg-white rounded-3xl shadow-2xl overflow-hidden cursor-grab touch-none\"\n          >\n            <img\n              src={movie.poster}\n              alt={movie.title}\n              className=\"w-full h-full object-cover pointer-events-none select-none\"\n              draggable=\"false\"\n            />\n            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white p-4\">\n              <h2 className=\"text-xl font-bold\">{movie.title}</h2>\n              <p className=\"text-sm\">{movie.genre} | {movie.year}</p>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n\n      {swipeMessage && (\n        <div className=\"mt-6 px-6 py-2 bg-white rounded-full shadow-md text-xl font-bold text-center text-blue-600 animate-bounce border border-blue-300\">\n          {swipeMessage}\n        </div>\n      )}\n\n      {swipeHistory.length > 0 && (\n        <div className=\"mt-6 w-full max-w-md bg-white rounded-xl shadow-lg p-4\">\n          <h2 className=\"text-lg font-bold mb-2 text-center text-blue-700\">Swipe History</h2>\n          <ul className=\"space-y-1 text-sm text-gray-700 max-h-48 overflow-y-auto\">\n            {swipeHistory.map((entry, index) => (\n              <li key={index} className=\"flex justify-between border-b pb-1\">\n                <span>{entry.movie_title}</span>\n                <span className={entry.action === \"like\" ? \"text-green-500\" : \"text-red-500\"}>\n                  {entry.action}\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}